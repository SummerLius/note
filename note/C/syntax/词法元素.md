# 词法元素
<!-- TOC -->

- [词法元素](#词法元素)
    - [概述](#概述)
    - [关键字](#关键字)
    - [标识符](#标识符)
    - [通用字符名](#通用字符名)
    - [常量](#常量)
    - [字符串字面量](#字符串字面量)
    - [标点符号](#标点符号)

<!-- /TOC -->

## 概述

<!-- 标记（token）是词法元素在语言编译的第7和8阶段的最小单位。其标记分类有如下：
1. 关键字
2. 标识符
3. 常量
4. 字符串字面量
5. 标点符号

预处理标记（preprocessing-token）是词法元素在语言编译的第3到6阶段的最小单位。分类如下：
1. 头名称
2. 标识符
3. 预处理numbers
4. 字符常量
5. 字符串字面量
6. 标点符号 -->


1. 关键字
2. 标识符
3. 通用字符名
4. 常量
5. 字符串字面量
6. 标点符号
7. 头名称
8. 预处理numbers
9. 注释

C语言的所有语法由上述的这些词法元素构成。位于编译器分析的第一步：词法分析。

<hr>

## 关键字

```c
auto
break
case
char
const
continue
default
do
double
else
enum
extern
float
for
goto
if
inline
int
long
register
restrict
return
short
signed
sizeof
static
struct
switch
typedef
union
unsigned
void
volatile
while
_Bool
_Complex
_Imaginary
```

<hr>

## 标识符

- 标识符不能和关键字同名。
- 不能以数字开头

标识符可选值范围：**`_a-zA-Z0-9`**
- 数字部分：0-9
- 非数字部分：_a-zA-Z

<hr>

## 通用字符名

格式：
- \u *hex-quad*：不足四位，前面自动补0
- \U *hex-quad hex-quad*：不足八位，前面自动补0
- hex-quad格式：四个十六进制数字，hhhh
- \uhhhh 对应 \U0000hhhh

```c
\uxxxx

\Uxxxxxxxx
```

**C通用字符名对应unicode码点范围限制**：
- 对于\uhhhh，其值不能小于00A0，除了0024（$），0040（@），0060（`）
- 对于\uhhhh，其值不能在范围D800~DFFF内（Unicode标准规定，该范围保留，不表示字符）

通用字符名应用地方（**目的：指定不在C语言基本字符集的字符**）：
- 标识符
- 字符常量
- 字符串字面量

<hr>

## 常量

常量类型：
- 整数常量
    - 十进制常量[后缀（可选）]
    - 八进制常量[后缀（可选）]
    - 十六进制常量[后缀（可选）]
- 浮点常量
    - 十进制浮点常量
    - 十六进制浮点常量
- 枚举常量
- 字符常量

数字字符：
- 数字（digit）: 0-9
- 非零数字（nonzero-digit）: 1-9
- 八进制数字（octal-digit）：0-7
- 十六进制数字（hexadecimal-digit）：0-9a-fA-F



整数常量：
- 十进制常量：范围[0-9]，无前缀，首位不能为0
- 八进制常量：范围[0-7]，有前缀为0
- 十六进制常量，范围[0-9a-fA-F]，有前缀0x或0X
- 整数后缀类型（long：l或L，unsigned：u或U）：
    - unsigned [long]：u，ul
    - unsigned long-long：ull
    - long [unsigned]：l，lu
    - long-long [unsigned]：ll，llu

浮点常量：
- 十进制浮点常量
    - `小数常量 + [指数部分] + [浮点后缀]`
    - `数字序列 + 指数部分 + [浮点后缀]`
- 十六进制浮点常量
    - `十六进制前缀 + 十六进制小数常量 + 二进制指数部分 + [浮点后缀]`
    - `十六进制前缀 + 十六进制数字序列 + 二进制指数部分 + [浮点后缀]`
- 小数常量格式：`[数字序列].[数字序列]`，小数点左右都是可选，但是必须存在一个
- 指数部分格式：`e或E + [+或-] + 整数序列`
- 十六进制小数常量格式：`[十六进制数字序列].[十六进制数字序列]`，小数点左右都是可选，但是必须存在一个
- 二进制指数部分：`p或P + [+或-] + 整数序列`
- 浮点数后缀： `f l F L`

枚举常量：
- identifer

字符常量：
- 格式：
    - `'c字符序列'`
    - `L'c字符序列'`
- c字符序列：
    - 任何源码字符集（除了，单引号'，反斜杠\，换行键）
    - 转义序列
        - 简单转义序列
            - `\' \" \? \\ \a \b \f \n \r \t \v`
        - 八进制转义序列
            - `\o \oo \ooo`：o为八进制数字，最多三位
        - 十六进制转义序列
            - `\xh \xhh`：h为十六进制数字，最多两位
        - 通用字符名

<hr>

## 字符串字面量

- 格式：
    - "字符串序列"
    - L"字符串序列"
- 字符串序列：
    - 任何源码字符集，除了双引号"，反斜杠\，换行符等
    - 转义序列

<hr>

## 标点符号

```c
[ ] ( ) { } . ->
++ -- & * + - ~ !
/ % << >> < > <= >= == != ^ | && ||
? : ; ...
= *= /= %= += -= <<= >>= &= ^= |=
, # ##
<: :> <% %> %: %:%:
```




