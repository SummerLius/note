<!-- TOC -->

- [教程](#教程)
    - [基础](#基础)
        - [安装](#安装)
        - [介绍](#介绍)
        - [Vue实例](#vue实例)
        - [模版语法](#模版语法)
        - [计算属性和侦听器](#计算属性和侦听器)
        - [Class 与 Style 绑定](#class-与-style-绑定)
        - [条件渲染](#条件渲染)
        - [列表渲染](#列表渲染)
        - [事件处理](#事件处理)
        - [表单输入绑定](#表单输入绑定)
        - [组件](#组件)
    - [过渡 & 动画](#过渡--动画)
        - [进入/离开 & 列表过渡](#进入离开--列表过渡)
        - [状态过渡](#状态过渡)
    - [可复用性 & 组合](#可复用性--组合)
        - [混入](#混入)
        - [自定义指令](#自定义指令)
        - [渲染函数 & JSX](#渲染函数--jsx)
        - [插件](#插件)
        - [过滤器](#过滤器)
    - [工具](#工具)
        - [生产环境部署](#生产环境部署)
        - [单文件组件](#单文件组件)
        - [单元测试](#单元测试)
        - [TypeScript支持](#typescript支持)
    - [规模化](#规模化)
        - [路由](#路由)
        - [状态管理](#状态管理)
        - [服务端渲染](#服务端渲染)
    - [内在](#内在)
        - [深入响应式原理](#深入响应式原理)
    - [迁移](#迁移)
        - [从Vue 1.x迁移](#从vue-1x迁移)
        - [从Vue Router 0.7.x迁移](#从vue-router-07x迁移)
        - [从Vue 0.6.x迁移到1.0](#从vue-06x迁移到10)

<!-- /TOC -->

# 教程

## 基础

### 安装

记录于2018-03-29：
- [地址](https://cn.vuejs.org/v2/guide/installation.html)
- **兼容性**
    - Vue不支持IE8及以下的版本，因为Vue使用了IE8无法模拟ECMAScript5特性。但它支持所有[兼容es6的浏览器](https://caniuse.com/#feat=es5)
- **更新日志**
    - 当前稳定版本：2.5.16，每个版本的更新日志见GitHub
- vue引入
    - 直接文件下载
    - CDN引入
- NPM
- 命令行工具（CLI）
- 对不同构建版本的解释
    - 术语
    - 运行时+编译器VS只包含运行时
    - 开发环境vs生成环境模式
    - csp环境
- 开发版本
- Bower
- AMD模块加载器 

### 介绍

- `Vue.js是什么`
    - Vue是一套用户构建用户界面的渐近式框架。与其它大型框架不同的是，vue被设计为可以自底向上逐层应用。vue的核心库只关注视图层，不仅容易上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，vue也完全能够为复杂的单页面应用提供驱动。
- `起步`
- `声明式渲染`
    - vue的核心是一个允许采用简洁的模版语法来声明式地将数据渲染进DOM的系统。
    - 在html的`<script>`部分使用`new Vue()`对象，可以将vue实例对象的数据绑定元素的属性值、文本值等
    - `{{  }}`、`v-bind`
    - 指令带有前缀 `v-`，以表示它们是vue提供的特殊特性。它们会在渲染的DOM上应用特殊的响应式行为。 
- `条件与循环`
    - `v-if`，可以控制元素是否显示，表示vue不仅可以把数据绑定到DOM**文本或属性**，还可以绑定控制DOM**结构**。
    - 还有其它很多指令，每个都有特殊功能。例如，`v-for`指令可以绑定数组的数据来渲染一个项目列表。
- `处理用户输入`
    - 为了让用户和应用进行交互，我们可以用 `v-on` 指令添加一个事件监听器，通过它调用在Vue实例中定义的方法。
    - vue还提供了 `v-model` 指令，它能轻松实现表单输入和应用状态之间的双向绑定。
- `组件化应用构建`
    - 组件系统是Vue的另一个重要概念。因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树。
    - 在Vue里，一个组件本质上是一个拥有预定义选项的Vue实例。
    - 使用组件时，子单元可以通过 `prop` 接口与父单元进行良好的解耦。
    - 在一个大型应用中，有必要将整个应用程序划分为组件，以使开发更易管理。
    ```html
    <div id='app'>
        <app-nav></app-nav>
        <app-view>
            <app-sidebar></app-sidebar>
            <app-content></app-content>
        </app-view>
    </div>
    ```
    - `自定义元素的关系`
        - Vue组件的做法非常类似自定义元素————它是Web组件规范的一部分，这是因为Vue组件语法部分参考了该规范。同时也有一些差别。
- 准备好了吗

问题：
1. 什么是渐近式框架？
2. 什么是自底向上设计？


```js
new Vue({
    el: '#app-6',
    data: {
        message: 'Hello World!'
    },
    methods: {
        reverseMessage: function () {}
    }
});
```

### Vue实例

- `创建一个Vue实例`
    - 每个Vue应用都是通过 `Vue` 构造函数创建一个新的Vue实例开始的：
        ```js
        var vm = new Vue({
            // 选项
        });
        ```
    - 虽然没有完全遵循 `MVVM` 模型，但是Vue的设计也受到了它的启发，因此在文档中经常使用vm（ViewModel的缩写）这个变量表示Vue实例。
    - 当创建一个Vue实例时，也可以传一个**选项对象**，即参数。使用该选项对象可以创建你想要的行为。
    - 一个Vue应用由一个通过 `new Vue` 创建的根Vue实例，以及可选的嵌套的、可复用的组件树组成。详细会在组件系统章节中展开，此处仅需明白所有的**Vue组件都是Vue实例**，并且接受相同的选项对象。 
- `数据与方法`
    - 当一个Vue实例被创建时，**它向Vue的响应式系统中加入了其 `data` 对象中能找到的所有属性**。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。
        ```js
        var data = {a: 1};
        var vm = new Vue({
            data: data
        });

        vm.a == data.a; // true

        // 给vm.a或data.a赋值，都会相互同步
        vm.a = 2;
        data.a // => 2

        data.a = 3;
        vm.a // => 3
        ```
    - 当这些数据改变时，视图自动进行重渲染。
    - 值得注意的，只有当实例 `data` 中存在的属性才是**响应式**的。比如，你新添加一个属性，`vm.b = 1`，那么对于b后续的改动不会触发任何视图更新，也就是说如果想要数据有效，必须事先在 `data` 对象中预设。同时，如果`data`对象使用了`Object.freeze()`，这会阻止修改现有的属性，也意味着响应系统无法追踪变化。
    - 除了数据属性，Vue实例还暴露了一些有用的实例属性与方法。它们都有前缀 `$`，以便与用户定义的属性区分开来。例如：
        ```js
        var data = {a: 1};
        var vm = new Vue({
            el: '#example',
            data: data
        });

        vm.a === data.a; // true
        vm.$data === data; // true
        vm.$el === document.getElementById('example'); // true
        
        // vm 实例方法
        vm.$watch('a', function(newValue, oldValue) {
            // 这个回调将在vm.a改变后调用
        }); 
        ```
    - vm实例完整的实例属性和方法可参考API
- `实例生命周期钩子`
    - 每个Vue实例，在被创建时都要经过一系列的初始化过程，例如，需要设置数据监听、编译模板、将实例挂载到DOM并在数据变化时更新DOM等。同时在这个过程中也会运行一些叫做**生命周期钩子**的函数，这给了用户在不同的阶段添加自己代码的机会。
    - 生命周期钩子的 `this` 上下文指向调用它的Vue实例。
    - > 不要在选项属性或回调上使用**箭头函数**，比如 `created: () => {}` 或 `vm.$watch('a', () => {})`。因为箭头函数是和父级上下文绑定在一起的，箭头函数里面的`this`不会是如你所预期的Vue实例。所以会经常报错。
- `生命周期图示`
    - 下图展示了实例的生命周期。
        ![](../../../../assets/vue_vm_lifecycle.png)

### 模版语法

- `其它`
    - Vue使用了基于HTMl的模版语法，允许开发者声明式地将DOM绑定至底层Vue实例的数据。所有Vue的模板都是合法的HTML，所以能被遵循规范的浏览器和HTML解析器解析。
    - 在底层的实现上，Vue将模板编译成虚拟DOM渲染函数。结合响应系统，Vue能够智能地计算出最少需要重新渲染多少组件，并把DOM操作次数见到最少。
    - 如果你熟悉虚拟DOM并且偏爱JS的原始力量，你也可以不使用模板，直接写渲染（render）函数，使用可选的JSX语法。
- `插值`
    - `文本`
        - 数据绑定最常见的形式就是使用“Mustache”语法（双大括号）的文本插值：`<span>Message: {{ msg }}</span>`，Mustache标签将会替代为对应数据对象vm.$data上`msg`属性的值。无论何时，绑定的数据对象上`msg`属性发生了变化，插值处的内容都会更新。
        - 通过使用 `v-once 指令`，可以执行一次性的插值，当数据改变时，插值处的内容不会更新。`<span v-once>这个将不会改变： {{ msg }}</span>`。
    - `原始HTML`
        - Mustache双大括号会将数据解释为普通文本，而非HTML代码。为了输出真正的HTML，需要使用 `v-html` 指令。
        - > 注意，站点上动态渲染任意的HTML可能会比较危险，因为它很容易导致XSS攻击。请只对可信的内容使用HTML插值，不要对用户提供的内容使用插值。
    - `特性`
        - 注意Mustache语法不能用在HTMl特性/属性上，遇到这种情况应该使用 `v-bind 指令`：`<div v-bind:id="dynamicId"></div>`
    - `使用JavaScript表达式`
        - 迄今为止，在我们的模板中，我们一直都只绑定简单的属性键值。**但实际上对于所有的数据绑定，Vue都提供了完全的JS表达式支持**。
            ```js
            {{ number + 1 }}

            {{ ok ? 'Yes' : 'No' }}

            {{ messsage.split('').reverse().join('') }}
            ```
        - 这些表达式会在所属Vue实例的数据作用域下作为JS被解析。有个**限制就是**，每个绑定都只能包含**单个表达式**，所以下面的例子都不会生效。
            ```js
            // 这是语句，不是表达式
            {{ var a = 1 }}

            // 控制流也不会生效，请使用三元表达式
            if(ok) { return message } 
            ```
        - 模版表达式都被放到沙盒中，只能访问全局变量的一个白名单，如Math和Date。你不应该在模板表达式中试图访问用户定义的全局变量。
- `指令`
    - `其它`
        - 
    - `参数`
    - `修饰符`
- `缩写`

### 计算属性和侦听器

### Class 与 Style 绑定

### 条件渲染

### 列表渲染

### 事件处理

### 表单输入绑定

### 组件

## 过渡 & 动画

### 进入/离开 & 列表过渡

### 状态过渡

## 可复用性 & 组合

### 混入

### 自定义指令

### 渲染函数 & JSX

### 插件

### 过滤器

## 工具

### 生产环境部署

### 单文件组件

### 单元测试

### TypeScript支持

## 规模化

### 路由

### 状态管理

### 服务端渲染

## 内在

### 深入响应式原理

## 迁移

### 从Vue 1.x迁移

### 从Vue Router 0.7.x迁移

### 从Vue 0.6.x迁移到1.0